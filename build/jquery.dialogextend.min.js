!function(){var i;i=jQuery,i.widget("ui.dialogExtend",{version:"2.0.4",options:{closable:!0,maximizable:!1,minimizable:!1,collapsable:!1,dblclick:!1,icons:{close:"ui-icon-closethick",restore:"ui-icon-newwin",maximize:"ui-icon-extlink",minimize:"ui-icon-minus",collapse:"ui-icon-triangle-1-s"},minimizeLocation:"left",beforeMaximize:null,beforeMinimize:null,beforeRestore:null,beforeCollapse:null,load:null,maximize:null,minimize:null,collapse:null,restore:null},_create:function(){this._state="normal",i(this.element[0]).data("ui-dialog")||i.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted"),this._verifyOptions(),this._initStyles(),this._initButtons(),this._toggleButtons(),this._initTitleBar(),this._setState("normal");var t=this;return this.element.on("popupdialogopen",function(){var e=t._getDialogElement(),o=i(".ui-dialog-titlebar-buttonpane",e);!o.length||"none"===o.css("float")&&"absolute"===o.css("position")||o.css({position:"absolute",right:".3em",top:"50%","margin-top":"-10px","margin-bottom":"0","margin-left":"0","margin-right":"0",padding:"1px",float:"none"});var n=i(".ui-dialog-titlebar-close",e);if(n.length&&n.hasClass("ui-button-icon-only")&&!(n.css("text-indent")||"").match(/^-999/)){var s=n.get(0).childNodes;s&&3===s.length&&3===s[2].nodeType&&(s[2].textContent="")}"-2px"===n.css("margin-top")&&n.css({margin:"1px",float:"none"})}),this._trigger("load")},_getDialogElement:function(){return this.element.first().dialog("widget")},_setState:function(t){return i(this.element[0]).removeClass("ui-dialog-"+this._state).addClass("ui-dialog-"+t),this._state=t},_verifyOptions:function(){var t=["collapse","minimize","maximize"];this.options.dblclick&&-1===t.indexOf(this.options.dblclick)&&(i.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+this.options.dblclick+"'"),this.options.dblclick=!1),"left"!==this.options.minimizeLocation&&"right"!==this.options.minimizeLocation&&(i.error("jQuery.dialogExtend Error : Invalid <minimizeLocation> value '"+this.options.minimizeLocation+"'"),this.options.minimizeLocation="left")},_initStyles:function(){var t;i(".dialog-extend-css").length||(t="",t+='<style class="dialog-extend-css" type="text/css">',t+=".ui-dialog .ui-dialog-titlebar-restore { width: 19px; margin: 1px; display:inline-block; }",t+=".ui-dialog .ui-dialog-titlebar-collapse { width: 19px; margin: 1px; display:inline-block; }",t+=".ui-dialog .ui-dialog-titlebar-maximize { width: 19px; margin: 1px; display:inline-block; }",t+=".ui-dialog .ui-dialog-titlebar-minimize { width: 19px; margin: 1px; display:inline-block; }",t+="</style>",i(t).appendTo("body"))},_initButtons:function(){var t,e;e=this._getDialogElement().find(".ui-dialog-titlebar");var o=e.find("button.ui-dialog-titlebar-close");t=i('<div class="ui-dialog-titlebar-buttonpane"></div>').appendTo(e),o.find(".ui-icon").removeClass("ui-icon-closethick").addClass(this.options.icons.close);var n=[];"left"===this.options.minimizeLocation?(n.push("minimize"),n.push("maximize")):(n.push("maximize"),n.push("minimize")),n.push("collapse"),n.push("restore");for(var s=0;s<n.length;++s){var l=this._initModuleButton(n[s]);l.addClass("ui-button"),o.hasClass("ui-button-icon-only")&&(l.addClass("ui-button-icon-only"),i(".ui-icon",l).text("")),l.attr("role","button").mouseover(function(){return i(this).addClass("ui-state-hover")}).mouseout(function(){return i(this).removeClass("ui-state-hover")}).focus(function(){return i(this).addClass("ui-state-focus")}).blur(function(){return i(this).removeClass("ui-state-focus")}),t.append(l)}o.appendTo(t),o.toggle(this.options.closable)},_initModuleButton:function(t){var e=this,o=i('<a class="ui-dialog-titlebar-'+t+' ui-corner-all ui-state-default" href="#" title="'+t+'"><span class="ui-icon '+this.options.icons[t]+'">'+t+"</span></a>");return o.click(function(i){return i.preventDefault(),e[t]()}),o},_initTitleBar:function(){var t=this;i(".ui-dialog-titlebar",this._getDialogElement()).dblclick(function(){if(t.options.dblclick)return"normal"!==t._state?t.restore():t[t.options.dblclick]()}).select(function(){return!1})},state:function(){return this._state},restore:function(){return this._trigger("beforeRestore"),this._restore(),this._toggleButtons(),this._trigger("restore")},_restore:function(){if("normal"!==this._state)return this["_restore_"+this._state](),this._setState("normal"),this._getDialogElement().focus()},_saveSnapshot:function(){if("normal"===this._state){var t,e=this._getDialogElement(),o=i("body");this.original_config_resizable=i(this.element[0]).dialog("option","resizable"),this.original_config_draggable=i(this.element[0]).dialog("option","draggable"),this.original_size_height=e.outerHeight(),this.original_size_width=i(this.element[0]).dialog("option","width"),this.original_size_maxHeight=i(this.element[0]).dialog("option","maxHeight"),this.original_position_mode=e.css("position"),t=e.offset(),this.original_position_left=t.left-o.scrollLeft(),this.original_position_top=t.top-o.scrollTop(),this.original_titlebar_wrap=e.find(".ui-dialog-titlebar").css("white-space")}},_loadSnapshot:function(){return{config:{resizable:this.original_config_resizable,draggable:this.original_config_draggable},size:{height:this.original_size_height,width:this.original_size_width,maxHeight:this.original_size_maxHeight},position:{mode:this.original_position_mode,left:this.original_position_left,top:this.original_position_top},titlebar:{wrap:this.original_titlebar_wrap}}},_toggleButtons:function(t){var e=t||this._state,o=i(".ui-dialog-titlebar",this.element[0]);i(".ui-dialog-titlebar-collapse",o[0]).toggle("collapsed"!==e&&this.options.collapsable),i(".ui-dialog-titlebar-minimize",o[0]).toggle("minimized"!==e&&this.options.minimizable),i(".ui-dialog-titlebar-maximize",o[0]).toggle("maximized"!==e&&this.options.maximizable),i(".ui-dialog-titlebar-restore",o[0]).toggle("normal"!==e)},collapse:function(){var t,e,o=this._getDialogElement();return t=o.find(".ui-dialog-titlebar").height()+15,this._trigger("beforeCollapse"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),e=o.position(),i(this.element[0]).dialog("option",{resizable:!1,height:t,maxHeight:t,position:[e.left-i(document).scrollLeft(),e.top-i(document).scrollTop()]}).on("dialogclose",this._collapse_restore).hide(),o.find(".ui-dialog-buttonpane:visible").hide(),o.find(".ui-dialog-titlebar").css("white-space","nowrap"),this._setState("collapsed"),this._toggleButtons(),this._trigger("collapse")},_restore_collapsed:function(){var i;i=this._loadSnapshot();var t=this._getDialogElement();return this.element.show(),t.find(".ui-dialog-buttonpane:hidden").show(),t.find(".ui-dialog-titlebar").css("white-space",i.titlebar.wrap),this.element.first().dialog("option",{resizable:i.config.resizable,height:i.size.height,maxHeight:i.size.maxHeight}).off("dialogclose",this._collapse_restore)},_collapse_restore:function(){return i(this).dialogExtend("restore")},maximize:function(){var t,e,o=this._getDialogElement();return t=i(window).height()-11,e=i(window).width()-11,this._trigger("beforeMaximize"),"normal"!==this._state&&this._restore(),this._saveSnapshot(),i(this.element[0]).dialog("option","draggable")&&o.draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text"),o.css("position","fixed").find(".ui-dialog-content").show(),o.find(".ui-dialog-buttonpane").show(),o.find(".ui-dialog-content").dialog("option",{resizable:!1,draggable:!1,height:t,width:e,position:{my:"left top",at:"left top",of:window}}),this._setState("maximized"),this._toggleButtons(),this._trigger("maximize")},_restore_maximized:function(){var t,e=this._getDialogElement();t=this._loadSnapshot(),e.css("position",t.position.mode).find(".ui-dialog-titlebar").css("white-space",t.titlebar.wrap),e.find(".ui-dialog-content").dialog("option",{resizable:t.config.resizable,draggable:t.config.draggable,height:t.size.height,width:t.size.width,maxHeight:t.size.maxHeight,position:{my:"left top",at:"left+"+t.position.left+" top+"+t.position.top,of:window}}),i(this.element[0]).dialog("option","draggable")&&e.draggable("option","handle",e.find(".ui-dialog-draggable-handle").length?e.find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move")},minimize:function(){var t,e,o,n=this._getDialogElement();return this._trigger("beforeMinimize"),"normal"!==this._state&&this._restore(),o=200,e=i("#dialog-extend-fixed-container"),e.length||(e=i('<div id="dialog-extend-fixed-container"></div>').appendTo("body"),e.css({position:"fixed",bottom:1,left:1,right:1,"z-index":9999})),this._toggleButtons("minimized"),t=n.clone().children().remove(),n.find(".ui-dialog-titlebar").clone(!0,!0).appendTo(t),t.css({float:this.options.minimizeLocation,margin:1}),e.append(t),i(this.element[0]).data("dialog-extend-minimize-controls",t),i(this.element[0]).dialog("option","draggable")&&t.removeClass("ui-draggable"),t.css({height:"auto",width:o,position:"static"}),i(this.element[0]).on("dialogbeforeclose",this._minimize_restoreOnClose),n.hide(),this._setState("minimized"),this._trigger("minimize")},_restore_minimized:function(){return this._getDialogElement().show(),i(this.element[0]).off("dialogbeforeclose",this._minimize_restoreOnClose),i(this.element[0]).data("dialog-extend-minimize-controls").remove(),i(this.element[0]).removeData("dialog-extend-minimize-controls")},_minimize_restoreOnClose:function(){return i(this).dialogExtend("restore")}})}();
//# sourceMappingURL=jquery.dialogextend.min.js.map
